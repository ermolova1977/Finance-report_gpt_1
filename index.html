<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á—ë—Ç ‚Ä¢ 3D –≤–µ—Ä—Å–∏—è</title>

<!-- ECharts + 3D -->
<script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>

<style>
body{
  margin:0;
  background:#0b1020;
  color:#eef1ff;
  font-family:Segoe UI,Arial;
}
.wrap{max-width:1200px;margin:auto;padding:30px}
.section{margin-top:40px}
h2{margin-bottom:20px}
.chart{
  height:420px;
  background:#111a33;
  border-radius:18px;
  padding:10px;
  box-shadow:0 20px 40px rgba(0,0,0,.5);
}
</style>
</head>

<body>
<div class="wrap">

<h1>üö® –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á—ë—Ç –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤</h1>
<p>3D-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Ä–∏—Å–∫–æ–≤ –∏ –∫–∞–ø–∏—Ç–∞–ª–∞</p>

<div class="section">
<h2>1. –ö—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å (3D)</h2>
<div id="ap3d" class="chart"></div>
</div>

<div class="section">
<h2>2. –ü—Ä–æ–µ–∫—Ç–Ω–æ–µ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ (3D)</h2>
<div id="pf3d" class="chart"></div>
</div>

<div class="section">
<h2>3. –ü—Ä–æ–¥–∞–Ω–æ vs –û—Å—Ç–∞—Ç–æ–∫ (3D)</h2>
<div id="sales3d" class="chart"></div>
</div>

<div class="section">
<h2>4. –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–æ–≤ (3D)</h2>
<div id="ready3d" class="chart"></div>
</div>

</div>

<script>

// ---------------- DATA ----------------

const apData = [
  ['–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1', 77.1],
  ['–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2', 12.4],
  ['–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3', 29.9],
];

const pfData = [
  ['–í—ã–±—Ä–∞–Ω–æ', 863.6],
  ['–û—Å—Ç–∞—Ç–æ–∫ –ª–∏–º–∏—Ç–∞', 192.2],
];

const salesData = [
  ['–ú–æ–ª–æ–¥—ë–∂–Ω—ã–π –ø—Ä–æ–¥–∞–Ω–æ', 3732],
  ['–ú–æ–ª–æ–¥—ë–∂–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫', 1385],
  ['–î–æ–Ω–µ—Ü–∫–∏–π –ø—Ä–æ–¥–∞–Ω–æ', 2960],
  ['–î–æ–Ω–µ—Ü–∫–∏–π –æ—Å—Ç–∞—Ç–æ–∫', 1335],
];

const readyData = [
  ['–ú–æ–ª–æ–¥—ë–∂–Ω—ã–π', 32.5],
  ['–î–æ–Ω–µ—Ü–∫–∏–π', 27.5],
];

// ------------- 3D BAR FUNCTION -------------

function build3DBar(domId, data, maxY=1000){

  const chart = echarts.init(document.getElementById(domId));

  const option = {
    backgroundColor: '#111a33',
    tooltip: {},
    xAxis3D: {
      type: 'category',
      data: data.map(d=>d[0]),
      axisLabel:{color:'#fff'}
    },
    yAxis3D: {
      type: 'value',
      max:maxY,
      axisLabel:{color:'#fff'}
    },
    zAxis3D: {
      type: 'value'
    },
    grid3D: {
      boxWidth: 200,
      boxDepth: 80,
      light: {
        main: {intensity:1.2, shadow:true},
        ambient: {intensity:0.3}
      }
    },
    series: [{
      type: 'bar3D',
      data: data.map((d,i)=>[i, d[1], 0]),
      shading: 'lambert',
      label:{
        show:true,
        formatter:(p)=>p.value[1],
        textStyle:{color:'#fff'}
      },
      itemStyle:{
        color:'#fb7185'
      }
    }]
  };

  chart.setOption(option);
}

// ------------- 3D PIE (Donut) -------------

function build3DPie(domId, data){

  const chart = echarts.init(document.getElementById(domId));

  chart.setOption({
    backgroundColor:'#111a33',
    tooltip:{},
    series: [{
      type: 'pie',
      radius: ['40%', '70%'],
      roseType: 'radius',
      data: data.map(d=>({name:d[0], value:d[1]})),
      itemStyle:{
        shadowBlur:20,
        shadowColor:'rgba(0,0,0,0.6)'
      },
      label:{color:'#fff'}
    }]
  });
}

// ----------- BUILD CHARTS ------------

build3DBar('ap3d', apData, 120);
build3DBar('pf3d', pfData, 1000);
build3DBar('sales3d', salesData, 4000);
build3DBar('ready3d', readyData, 100);

</script>

</body>
</html>
